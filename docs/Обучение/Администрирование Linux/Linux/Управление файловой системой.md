# Управление файловой системой

Малюсенькая заметка: скорее всего, этот раздел будет крайне сложным для понимания, потому что *монтировать каталоги к логическим разделам на диске* уже звучит как задачка для сеньора-помидора-линуксятника, так что терпим, скоро будет докер, а это будет интересно

`fdisk` - команда, позволяющая удалять, создавать разделы на диске и управлять ими

- `sudo fdisk -l` - выведет информацию о дисках

`mount` - команда для монтирования файловых систем (каждый логический раздел на диске должен быть назначен определённому каталогу для того, чтобы он корректно встроился в иерархию файловой системы)

- просто команда `mount` без аргументов выведет список смонтированных файловых систем
- `sudo mount /dev/sdb1 /mnt/usb` - команда подключения USB-устройства с именем `/dev/sdb1` к каталогу `/mnt/usb` (вот тут начинаются вопросы *а зачем?* без таких операций у меня что, флешечка не будет отображаться?)

`umount` - команда, которая может размонтировать файловую систему с нужной точки монтирования

- `sudo umount /mnt/usb` - команда, которая размонтирует USB-накопитель, который был смонтирован в примере выше

`/etc/fstab` - файл, который используется для определения файловых систем по умолчанию, которые монтируются во время загрузки

- Для того, чтобы автоматически размонтировать систему при завершении её работы, можно дописать свойство `noauto` в файл `fstab`:
    
    ```bash
    /dev/sda1 / ext4 defaults 0 0
    /dev/sda2 /home ext4 defaults 0 0
    /dev/sdb1 /mnt/usb ext4 rw,noauto,user 0 0   #вот он, тут спрятался
    192.168.1.100:/nfs /mnt/nfs nfs defaults 0 0
    ```
    

`lsof` - команда, которая показывает список открытых файлов в файловой системе (потому что нельзя размонтировать систему, которая используется запущенным процессом)

***SWAP (подкачка)***

Ещё одна малюсенькая заметочка: вот тут начинается реальный жир, потому что монтирование файловых систем, конечно, хорошо, но настраивать зону буферизации для бесперебойной работы физической памяти компьютера (о как загнул) - это уже что-то на языке 250 000 рублей зп

`mkswap` - используется для настройки области подкачки на устройстве или файле

`swapon` - используется для активации области подкачки

Подкачка - очень важная и ответственная тема, потому что она должна быть размещена в выделенном разделе или файле, отдельно от остальной файловой системы, чтобы предотвратить фрагментацию пространства подкачки; она должна быть зашифрована, потому что конфиденциальные данные могут временно храниться в пространстве подкачки